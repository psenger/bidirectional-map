{"version":3,"file":"index.js","sources":["../src/com/cngr/bidirectionalmap/index.js"],"sourcesContent":["/*\n * Copyright (c) 2021, Philip A Senger (https://github.com/psenger/bidirectional-map/blob/main/LICENSE)\n */\n'use strict'\n\n/**\n * Bi Directional Map is a Map, in which the keys and values are registered pointing to each\n * other ( a binary relationship ). EG A->B and B->A. This is a Advanced Data Type and is some times\n * called an Associative Data Structure.\n * @version 1.0.5\n * @see {@link https://en.wikipedia.org/wiki/Bidirectional_map|wikipedia} for further information\n * @param {Iterable} [props] - An Iterable object whose elements are key-value pairs (arrays with two elements, e.g. [[ 1, ['one','two'] ],[ 2, ['three'] ]]). Each key-value pair is added to the new Map; null values are treated as undefined.\n * @constructs BiDirectionalMap\n * @class {BiDirectionalMap}\n */\nclass BiDirectionalMap extends Map {\n  /**\n   * Overwrite BiDirectionalMap species to the parent Map constructor\n   * @return {MapConstructor}\n   */\n  static get [Symbol.species] () {\n    return Map\n  }\n\n  constructor (props) {\n    super(props)\n    if (props && typeof props[Symbol.iterator] === 'function') {\n      for (const [key, value] of props) {\n        this.set(value, key)\n      }\n    }\n  }\n\n  /**\n   * Sets the value for the key in the Map object. Overriding the parent `set` and returns the Map\n   * object. Only works with `String` or `Numbers.\n   * @override\n   * @param {string|number} key - The key of the element to add to the `BiDirectionalMap` object.\n   * @param {string|number} value - The value of the element to add to the `BiDirectionalMap` object.\n   * @returns {BiDirectionalMap}\n   */\n  set (key, value) {\n    // 1.) remove any existing relationships\n    if (super.has(key) || super.has(value)) {\n      const a = super.get(key)\n      const b = super.get(value)\n      super.delete(a)\n      super.delete(b)\n      super.delete(key)\n      super.delete(value)\n    }\n    // 2.) now set the relationship\n    super.set(key, value)\n    super.set(value, key)\n    return this\n  }\n}\n\nmodule.exports = BiDirectionalMap\n"],"names":[],"mappings":";;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,gBAAgB,SAAS,GAAG,CAAC;AACnC;AACA;AACA;AACA;AACA,EAAE,YAAY,MAAM,CAAC,OAAO,EAAE,GAAG;AACjC,IAAI,OAAO,GAAG;AACd,GAAG;AACH;AACA,EAAE,WAAW,CAAC,CAAC,KAAK,EAAE;AACtB,IAAI,KAAK,CAAC,KAAK,EAAC;AAChB,IAAI,IAAI,KAAK,IAAI,OAAO,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,UAAU,EAAE;AAC/D,MAAM,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,KAAK,EAAE;AACxC,QAAQ,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAC;AAC5B,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE;AACnB;AACA,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;AAC5C,MAAM,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,EAAC;AAC9B,MAAM,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,KAAK,EAAC;AAChC,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,EAAC;AACrB,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,EAAC;AACrB,MAAM,KAAK,CAAC,MAAM,CAAC,GAAG,EAAC;AACvB,MAAM,KAAK,CAAC,MAAM,CAAC,KAAK,EAAC;AACzB,KAAK;AACL;AACA,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAC;AACzB,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAC;AACzB,IAAI,OAAO,IAAI;AACf,GAAG;AACH,CAAC;AACD;AACA,MAAM,CAAC,OAAO,GAAG;;"}